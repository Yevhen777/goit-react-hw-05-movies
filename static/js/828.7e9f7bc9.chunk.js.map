{"version":3,"file":"static/js/828.7e9f7bc9.chunk.js","mappings":"oQAEaA,EAAa,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,aAAcC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,MACnD,OACE,+BACE,UAAC,KAAD,CAAMC,SAAUH,EAAhB,WACE,SAAC,KAAD,CACEI,KAAK,OACLC,KAAK,QACLC,MAAOJ,EACPD,SAAU,SAAAM,GAAC,OAAIN,EAASM,EAAEC,OAAOF,WAEnC,mBAAQF,KAAK,SAAb,0B,oBCyDR,EA9De,WAAO,IAAD,EACnB,GAA4BK,EAAAA,EAAAA,WAAS,GAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOP,EAAP,KAAcU,EAAd,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEMC,GAAWC,EAAAA,EAAAA,MACXC,EAAY,UAAGJ,EAAaK,IAAI,gBAApB,QAAgC,IAElDC,EAAAA,EAAAA,YAAU,WACR,GAAKF,EAAL,CAIA,IAAMG,EAAQ,mCAAG,+EACfC,EAAAA,EAAAA,IAAUJ,GACPK,MAAK,SAAAC,GACJ,OAAOb,EAAUa,EAAOC,KAAKC,YAE9BC,OAAM,SAAAC,GAAK,OAAI,IAAIC,MAAMD,MALb,2CAAH,qDAQdP,OACC,CAACH,IAgBJ,OACE,4BACE,0BACE,SAACnB,EAAD,CACEG,MAAOA,EACPF,aAnBa,SAAAO,GACnBA,EAAEuB,iBAEF,IAAQxB,EAAUC,EAAEC,OAAOuB,SAAS7B,MAA5BI,MACF0B,EAAa1B,EAAM2B,cACjBlB,EAART,EAAwB,CAAEJ,MAAO8B,GAAgC,IAEjEzB,EAAEC,OAAO0B,SAaHjC,SAAUW,EACVuB,aAXa,SAAA7B,GACnBS,EAA0B,KAAVT,EAAe,CAAE8B,OAAQ9B,GAAU,SAahDI,GACCA,EAAO2B,KAAI,SAAAC,GACT,OACE,yBACE,SAAC,KAAD,CAASC,GAAE,kBAAaD,EAAGE,IAAMC,MAAO,CAAEC,KAAM1B,GAAhD,SACGsB,EAAGK,SAFCL,EAAGE","sources":["components/SearchForm.jsx","pages/Movies.jsx"],"sourcesContent":["import { Input, Form } from './SharedLayout.styled';\n\nexport const SearchForm = ({ handleSubmit, onChange, query }) => {\n  return (\n    <>\n      <Form onSubmit={handleSubmit}>\n        <Input\n          type=\"text\"\n          name=\"query\"\n          value={query}\n          onChange={e => onChange(e.target.value)}\n        />\n        <button type=\"submit\">Search</button>\n      </Form>\n    </>\n  );\n};\n","import { NavLink } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { SearchForm } from '../components/SearchForm';\nimport { useSearchParams } from 'react-router-dom';\nimport { useLocation } from 'react-router-dom';\nimport { getMovies } from '../services';\n\nconst Movies = () => {\n  const [search, setSearch] = useState(false);\n  const [query, setQuery] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const location = useLocation();\n  const paramsFilter = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (!paramsFilter) {\n      return;\n    }\n\n    const fetchRes = async () => {\n      getMovies(paramsFilter)\n        .then(movies => {\n          return setSearch(movies.data.results);\n        })\n        .catch(error => new Error(error));\n    };\n\n    fetchRes();\n  }, [paramsFilter]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    const { value } = e.target.elements.query;\n    const lowerValue = value.toLowerCase();\n    value ? setSearchParams({ query: lowerValue }) : setSearchParams({});\n\n    e.target.reset();\n  };\n\n  const changeFilter = value => {\n    setSearchParams(value !== '' ? { filter: value } : {});\n  };\n\n  return (\n    <div>\n      <div>\n        <SearchForm\n          query={query}\n          handleSubmit={handleSubmit}\n          onChange={setQuery}\n          changeFilter={changeFilter}\n        />\n      </div>\n      {search &&\n        search.map(el => {\n          return (\n            <li key={el.id}>\n              <NavLink to={`/movies/${el.id}`} state={{ from: location }}>\n                {el.title}\n              </NavLink>\n            </li>\n          );\n        })}\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["SearchForm","handleSubmit","onChange","query","onSubmit","type","name","value","e","target","useState","search","setSearch","setQuery","useSearchParams","searchParams","setSearchParams","location","useLocation","paramsFilter","get","useEffect","fetchRes","getMovies","then","movies","data","results","catch","error","Error","preventDefault","elements","lowerValue","toLowerCase","reset","changeFilter","filter","map","el","to","id","state","from","title"],"sourceRoot":""}